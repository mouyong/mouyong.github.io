---
title: 三、探索应用
date: 2019-12-20 15:01:56
categories: k8s
tags:
  - k8s
  - 运维
english_title: Exploration-and-Application
---

## 检查应用程序配置

1. 查看当前 Pods
`kubectl get pods`

2. 查看当前 Pods 的详细信息
`kubectl describe pods`

## 在终端中显示应用程序

1. 创建命令行交互代理
`kubectl proxy`

2. 获取 POD 名称并储存在环境变量 `POD_NAME` 中
`export POD_NAME=$(kubectl get pods -o go-template --template '{{range .items}}{{.metadata.name}}{{"\n"}}{{end}}')`

3. 在命令行中使用 CURL 命令，通过 API 断点与应用程序交互，获取 pod 信息
`curl http://localhost:8001/api/v1/namespaces/default/pods/$POD_NAME/proxy/`

## 查看容器日志

1. 查看容器日志
`kubectl logs $POD_NAME`

通常应用程序发送到 STDOUT 的任何内容都将做为 POD 中容器的日志，我们可以使用 `kubectl logs` 来检索这些日志

## 在容器上执行命令

1. 在容器上执行命令
`kubectl exec $POD_NAME 命令`

如：`kubectl exec $POD_NAME env`

2. 在容器中启动一个会话
`kubectl exec -ti $POD_NAME bash`

3. 查看文件信息
`cat server.js`

4. 检查运行状态
`curl localhost:8080`
